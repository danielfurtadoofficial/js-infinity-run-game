<!DOCTYPE html>
<html>
<head>
	<meta http-equiv = "Content-Type" content = "text/html; charset=UTF-8" >
	<title> Kasu Body Run | Records</title>
	<link rel="stylesheet"  type="text/css" href="css/loader.css">
	<link rel="stylesheet"  type="text/css" href="css/index.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet"  type="text/css" href="css\fontawesome-free-5.15.3-web\css\all.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Stencil+Text:wght@300&display=swap" rel="stylesheet">
	<link rel="icon" type="imagem/png" href="img/killer.gif">
	<script>
		if(localStorage.getItem('register')!="done"){
			window.location.href='index.html';
		}
	</script>
</head>
<body>

	<!-- :::::::::  LOADER :::::::::::::-->
	<center>
		<div id="loader">
			<div class="preloader">
				<div class="preloader__ring">
				  <div class="preloader__sector"><p class="p_animation">L</p></div>
				  <div class="preloader__sector"><p class="p_animation">o</p></div>
				  <div class="preloader__sector"><p class="p_animation">a</p></div>
				  <div class="preloader__sector"><p class="p_animation">d</p></div>
				  <div class="preloader__sector"><p class="p_animation">i</p></div>
				  <div class="preloader__sector"><p class="p_animation">n</p></div>
				  <div class="preloader__sector"><p class="p_animation">g</p></div>
				  <div class="preloader__sector"><p class="p_animation">.</p></div>
				  <div class="preloader__sector"><p class="p_animation">.</p></div>
				  <div class="preloader__sector"><p class="p_animation">.</p></div>
				</div>
			
				<div class="preloader__ring">
				  <div class="preloader__sector"><p class="p_animation">K</p></div>
				  <div class="preloader__sector"><p class="p_animation">A</p></div>
				  <div class="preloader__sector"><p class="p_animation">S</p></div>
				  <div class="preloader__sector"><p class="p_animation">U</p></div>
				  <div class="preloader__sector"><p class="p_animation"></p></div>
				  <div class="preloader__sector"><p class="p_animation">B</p></div>
				  <div class="preloader__sector"><p class="p_animation">O</p></div>
				  <div class="preloader__sector"><p class="p_animation">D</p></div>
				  <div class="preloader__sector"><p class="p_animation">Y</p></div>
				  <div class="preloader__sector"><p class="p_animation"></p></div>
				  <div class="preloader__sector"><p class="p_animation">R</p></div>
				  <div class="preloader__sector"><p class="p_animation">U</p></div>
				  <div class="preloader__sector"><p class="p_animation">N</p></div>
				</div>
			  </div>
		</div>
	</center>
	<!-- :::::::::::::::::::::::::::::::-->
    
    <div id="home">
		
		<div id="jogo" class="camada_home" data data-tilt="10">
			<div class="escurecer"></div>

			<center style="transform: translateZ(80px);">
				<br><br><h1>RECORDS</h1><br>

				<a href="start.html"><button class="submit" style="margin-top: 0px;"><i class="fas fa-arrow-left"></i>Back</button></a><br>
				
				<div class="records">
					<p id="record1" class="record"></p>
					<p id="record2" class="record"></p>
					<p id="record3" class="record"></p>
					<p id="record4" class="record"></p>
					<p id="record5" class="record"></p>
					<p id="record6" class="record"></p>
					<p id="record7" class="record"></p>
					<p id="record8" class="record"></p>
					<p id="record9" class="record"></p>
				</div>
				
			</center>
		</div>
    </div>

	<div>
		<audio id="demo" src="audio/audio2.mp3" loop="true"></audio>
		<i id="play" style="display: none;" onclick="play()" class="fas fa-volume-mute"></i>
		<i id="pause" class="fas fa-volume-up" onclick="pause()"></i>
	</div>



    <script type="text/javascript" src="js/vanilla-tilt.js"></script>
	<script type="text/javascript" src="js/loader.js"></script>
	<script>
		function play(){
			document.getElementById('demo').volume=0.3;
			document.getElementById('demo').pause();
			document.getElementById('play').style.display='none';
			document.getElementById('pause').style.display='block';
		}

		function pause(){
			document.getElementById('demo').play();
			document.getElementById('pause').style.display='none';
			document.getElementById('play').style.display='block';
		}

			//:::::::::::::::::::::::: SERVER CONNECTION :::::::::::::::::::::

			/*::: CONNECT TO WEB SERVICE :::*/
			var request = new XMLHttpRequest();
			request.open("GET", "http://domain.com/api/corridaObstakulo/topScore.php?table=a9508", true);
			
			request.onload= function(){
			var dados= JSON.parse(this.response);
				
				if(request.status>=200 && request.status<400){
					console.log(dados);
					if(dados.response="OK"){
						
						document.getElementById('record1').innerHTML ="1º - "+dados[0].username+" => "+dados[0].top_score;
						document.getElementById('record2').innerHTML ="2º - "+dados[1].username+" => "+dados[1].top_score;
						document.getElementById('record3').innerHTML ="3º - "+dados[2].username+" => "+dados[2].top_score;
						document.getElementById('record4').innerHTML ="4º - "+dados[3].username+" => "+dados[3].top_score;
						document.getElementById('record5').innerHTML ="5º - "+dados[4].username+" => "+dados[4].top_score;
						document.getElementById('record6').innerHTML ="6º - "+dados[5].username+" => "+dados[5].top_score;
						document.getElementById('record7').innerHTML ="7º - "+dados[6].username+" => "+dados[6].top_score;
						document.getElementById('record8').innerHTML ="8º - "+dados[7].username+" => "+dados[7].top_score;
						document.getElementById('record9').innerHTML ="9º - "+dados[8].username+" => "+dados[8].top_score;
						
						alert("Dados Carregados Com Sucesso!");
					}else{
						localStorage.clear();
						alert("Erro ao Registrar no Server.");
					}
			
				}else{
					console.log("Error");
					alert("Erro de Conexão. Verifique sua Internet.");
				}
			}

			request.send();

			//:::::::::::::::::::::::: SERVER CONNECTION FINISH:::::::::::::::::::::*/
		

	</script>
</body>
</html>